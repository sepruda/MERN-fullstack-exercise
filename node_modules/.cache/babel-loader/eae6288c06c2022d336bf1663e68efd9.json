{"ast":null,"code":"import _slicedToArray from \"/Users/cjm/Development/mern-excercise-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/cjm/Development/mern-excercise-tracker/src/components/ExercisesList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst Exercise = ({\n  exercise,\n  deleteExercise\n}) => React.createElement(\"tr\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 6\n  },\n  __self: this\n}, React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, exercise.username), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 8\n  },\n  __self: this\n}, exercise.description), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, exercise.duration), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, exercise.date.substring(0, 10)), React.createElement(\"td\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, React.createElement(Link, {\n  to: \"/edit/\".concat(exercise._id, \"?editing=true\"),\n  className: \"btn btn-primary\",\n  style: {\n    marginRight: \"5px\"\n  },\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12\n  },\n  __self: this\n}, \"edit\"), React.createElement(\"button\", {\n  onClick: () => {\n    deleteExercise(exercise._id);\n  },\n  className: \"btn btn-danger\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 19\n  },\n  __self: this\n}, \"delete\")));\n\nexport const ExercisesList = () => {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        exercises = _useState2[0],\n        setExercises = _useState2[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios.get(\"http://localhost:5000/exercises/\").catch(err => console.log(err));\n      setExercises(result.data);\n    };\n\n    fetchData();\n  }, []);\n\n  const deleteExercise = id => {\n    axios.delete(\"https://localhost:5000/exercises/\".concat(id)).then(res => console.log(res.data)).catch(err => console.log(err));\n    setExercises(exercises.filter(exercise => exercise._id !== id));\n  };\n\n  const createExercisesTableBody = () => {\n    return exercises.map(exercise => React.createElement(Exercise, {\n      exercise: exercise,\n      deleteExercise: deleteExercise,\n      key: exercise._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Logged Exercises\"), React.createElement(\"table\", {\n    className: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    className: \"thead-light\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Username\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Duration\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Date\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Actions\"))), React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, createExercisesTableBody())));\n};","map":{"version":3,"sources":["/Users/cjm/Development/mern-excercise-tracker/src/components/ExercisesList.js"],"names":["React","useState","useEffect","axios","Link","Exercise","exercise","deleteExercise","username","description","duration","date","substring","_id","marginRight","ExercisesList","exercises","setExercises","fetchData","result","get","catch","err","console","log","data","id","delete","then","res","filter","createExercisesTableBody","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n\nconst Exercise = ({ exercise, deleteExercise }) => (\n  <tr>\n    <td>{exercise.username}</td>\n    <td>{exercise.description}</td>\n    <td>{exercise.duration}</td>\n    <td>{exercise.date.substring(0, 10)}</td>\n    <td>\n      <Link\n        to={`/edit/${exercise._id}?editing=true`}\n        className=\"btn btn-primary\"\n        style={{ marginRight: \"5px\" }}\n      >\n        edit\n      </Link>\n      <button\n        onClick={() => {\n          deleteExercise(exercise._id);\n        }}\n        className=\"btn btn-danger\"\n      >\n        delete\n      </button>\n    </td>\n  </tr>\n);\n\nexport const ExercisesList = () => {\n  const [exercises, setExercises] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await axios\n        .get(\"http://localhost:5000/exercises/\")\n        .catch(err => console.log(err));\n\n      setExercises(result.data);\n    };\n\n    fetchData();\n  }, []);\n\n  const deleteExercise = id => {\n    axios\n      .delete(`https://localhost:5000/exercises/${id}`)\n      .then(res => console.log(res.data))\n      .catch(err => console.log(err));\n\n    setExercises(exercises.filter(exercise => exercise._id !== id));\n  };\n\n  const createExercisesTableBody = () => {\n    return exercises.map(exercise => (\n      <Exercise\n        exercise={exercise}\n        deleteExercise={deleteExercise}\n        key={exercise._id}\n      />\n    ));\n  };\n\n  return (\n    <>\n      <h3>Logged Exercises</h3>\n      <table className=\"table\">\n        <thead className=\"thead-light\">\n          <tr>\n            <th>Username</th>\n            <th>Description</th>\n            <th>Duration</th>\n            <th>Date</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>{createExercisesTableBody()}</tbody>\n      </table>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}